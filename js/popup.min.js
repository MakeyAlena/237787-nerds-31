(()=>{const e=document.querySelector(".button-contacts"),t=document.querySelector(".popup"),o=t.querySelector(".close-popup"),s=t.querySelector(".login-user"),r=t.querySelector(".form-write-us"),u=t.querySelector(".email-user");let c=!0,n="";try{n=localStorage.getItem("name")}catch(e){c=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("popup-show"),n?(s.value=n,u.focus()):s.focus()}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("popup-show"),t.classList.remove("popup-error")}),r.addEventListener("submit",function(e){s.value&&u.value?c&&localStorage.setItem("name",s.value):(e.preventDefault(),t.classList.remove("popup-error"),t.offsetWidth=t.offsetWidth,t.classList.add("popup-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("popup-show")&&(e.preventDefault(),t.classList.remove("popup-show"))})})();
